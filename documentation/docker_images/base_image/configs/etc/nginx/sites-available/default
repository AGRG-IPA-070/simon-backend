# Default server configuration
#
server {
	listen 80 default_server;
	listen [::]:80 default_server;

	root /var/www/genular/simon-frontend/compiled;

	server_name _;
    index index.html;
    
    charset utf-8;

    location / {
            # This is cool because no php is touched for static content.
            # include the "?$args" part so non-default permalinks doesn't break when using query string
            try_files $uri $uri/ /index.php?$args;
    }

	location ~* \.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|mp4|ogg|ogv|webm|htc)$ {
            expires max;
            log_not_found off;
    }

	# CSS and Javascript
	location ~* \.(?:css|js)$ {
		add_header Cache-Control "max-age=31536000";
		access_log off;
	}

	error_log  /var/log/nginx/dashboard.genular.local_error.log warn;
}